<% cache transaction do %>
  <tr id="<%= dom_id transaction %>" class="hover:bg-gray-100 odd:bg-white even:bg-gray-50 text-[#333c48]">
    <td class="px-2.5 pl-[18px] font-semibold text-sm leading-7 border-[#e2e7ee] border-b">
      <%= link_to vendor_transaction_path(transaction), class: "min-w-full line-clamp-2 break-words hover:underline hover:text-indigo-500" do %>
        <%= transaction.id %>
      <% end %>
    </td>
    <td style="border-left: 1px dashed #d5dce6;" class="px-2.5 text-sm leading-7 border-[#e2e7ee] border-b">
      <div class="w-40">
        <%= number_to_currency transaction.amount, unit: "đ", precision: 0, format: "%n %u" %>
      </div>
    </td>
    <td style="border-left: 1px dashed #d5dce6;" class="px-2.5 text-sm leading-7 border-[#e2e7ee] border-b">
      <div class="w-28">
        <%= local_time(transaction.created_at) %>
      </div>
    </td>
    <td style="border-left: 1px dashed #d5dce6;" class="px-2.5 text-sm leading-7 border-[#e2e7ee] border-b">
      <div class="w-60 min-w-full line-clamp-2">
        <%= link_to nil, transaction.checkout_url, target: "_blank", rel: "nofollow", class: "hover:text-indigo-500 hover:underline" %>
      </div>
    </td>

    <td style="border-left: 1px dashed #d5dce6;" class="px-2.5 text-sm leading-10 border-[#e2e7ee] border-b">
      <div class="w-28">
        <span class="inline-block whitespace-nowrap px-2 py-0.5 text-xs text-center font-bold rounded-full <%= transaction.paid? ? "text-green-400 bg-green-100" : transaction.cancelled? ? "text-red-400 bg-red-100" : "text-yellow-400 bg-yellow-100" %>">
          <%= transaction.status %>
        </span>
      </div>
    </td>

    <td style="border-left: 1px dashed #d5dce6;" class="px-2.5 text-sm whitespace-nowrap leading-10 border-[#e2e7ee] border-b overflow-visible">
      <div class="flex flex-row gap-1 w-28">

        <div class="relative flex justify-center items-center">
          <%= link_to vendor_transaction_path(transaction), class: "peer text-base text-gray-500 hover:text-indigo-500" do %>
            <%= inline_svg_tag "svg/eye.svg", size: "18" %>
          <% end %>
          <span class="peer-hover:visible peer-hover:opacity-100 invisible opacity-0 absolute bottom-full left-1/2 transform -translate-x-1/2 px-2 py-1 bg-black text-white text-sm rounded whitespace-nowrap z-10 transition-opacity duration-200 ease-in-out">
            Xem chi tiết
          </span>
        </div>

      </div>
    </td>
  </tr>
<% end %>
